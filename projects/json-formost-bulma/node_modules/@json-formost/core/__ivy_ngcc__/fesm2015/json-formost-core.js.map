{"version":3,"file":"json-formost-core.js","sources":["../../../projects/json-formost-core/src/lib/util.ts","../../../projects/json-formost-core/src/lib/controls/form-group.ts","../../../projects/json-formost-core/src/lib/controls/form-array.ts","../../../projects/json-formost-core/src/lib/controls/form-control.ts","../../../projects/json-formost-core/src/lib/formost-schema-converter.service.ts","../../../projects/json-formost-core/src/lib/formost-json-schema-7.interface.ts","../../../projects/json-formost-core/src/public-api.ts","../../../projects/json-formost-core/src/json-formost-core.ts"],"names":["NgFormGroup","NgFormArray","NgFormControl"],"mappings":"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AAC,KAAK,GAAG,KAAK,CAAC;AAAC,SAAC;AACtC,QAAI,MAAM,iBAAiB,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AACtD,cAAQ,GAAG,CAAC,KAA6B;AACzC,cAAQ,CAAC,GAAG,CAAC,KAA2B,CAAC,CAAC;AAC1C;AACI;AACI;AACI;AACI;AACI;AAEL;AAAa,QAAxB,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;AACvC,QAAI,OAAO,IAAI,CAAC;AAChB,KAAG;AACH;yHACA;AAAC,sMA5FI;AAAC;AAHL,UAAU,SAAC,kBACV,UAAU,EAAE,MAAM,cACnB;;;;;gDAGe;AAAC;ACRjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACkG","sourcesContent":["import { KeyValue } from '@angular/common';\n\nfunction populateInterfaceProperties(target: object, source: object, properties: string[]) {\n    const allProps = ['name', 'refid', 'title', 'description', 'help', ...properties];\n    for (const prop of allProps) {\n        if (source.hasOwnProperty(prop)) {\n            target[prop] = source[prop];\n        }\n    }\n}\n\nconst keyValueSorters = {\n    // Preserve original property order\n    originalOrder: (a: KeyValue<number, string>, b: KeyValue<number, string>): number => {\n        return 0;\n    },\n\n    // Order by ascending property value\n    valueAscOrder: (a: KeyValue<number, string>, b: KeyValue<number, string>): number => {\n        return a.value.localeCompare(b.value);\n    },\n\n    // Order by descending property key\n    keyDescOrder: (a: KeyValue<number, string>, b: KeyValue<number, string>): number => {\n        return a.key > b.key ? -1 : (b.key > a.key ? 1 : 0);\n    }\n};\n\nexport { populateInterfaceProperties, keyValueSorters };","import { FormGroup as NgFormGroup, AbstractControl } from '@angular/forms';\nimport { FormostAbstractControl } from '../formost-abstract-control.interface';\nimport { populateInterfaceProperties } from '../util';\n\nexport class FormGroup<T extends object = any> extends NgFormGroup implements FormostAbstractControl {\n    readonly value: T;\n\n    constructor(\n        public controls: { [key: string]: AbstractControl },\n    ) {\n        //super(controls, validatorOrOpts, asyncValidator);\n        super(controls);\n    }\n\n    // from interface\n    name: string;\n    refid: string;\n    title?: string;\n    description?: string;\n    help?: string;\n\n    populate(source: object) {\n        populateInterfaceProperties(this, source, []);\n    }\n\n    getControlType(): \"control\" | \"group\" | \"array\" {\n        return 'group';\n    }\n}","import { FormArray as NgFormArray, AbstractControl, ValidatorFn, AbstractControlOptions, AsyncValidator, AsyncValidatorFn } from '@angular/forms';\nimport { FormostAbstractControl } from '../formost-abstract-control.interface';\nimport { populateInterfaceProperties } from '../util';\nimport { FormostJsonSchema7 } from '../formost-json-schema-7.interface';\nimport { SchemaConverterService } from '../formost-schema-converter.service';\n\nexport class FormArray<T = any, E extends object = any> extends NgFormArray implements FormostAbstractControl {\n    readonly value: T[];\n\n    constructor(\n        public controls: AbstractControl[],\n        validatorOrOpts?: ValidatorFn | ValidatorFn[] | AbstractControlOptions,\n        asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[],\n        private fbs?: SchemaConverterService\n    ) {\n        super(controls, validatorOrOpts, asyncValidator);\n    }\n\n    // From Interface\n    name: string;\n    refid: string;\n    title?: string;\n    description?: string;\n    help?: string;\n\n    itemTypes: FormostJsonSchema7[] = [];\n    uniqueItems?: boolean;\n    contains?: FormostAbstractControl;\n    additionalItems: FormostAbstractControl | boolean = false;\n    minItems?: number;\n    maxItems?: number;\n\n    populate(source: object) {\n        populateInterfaceProperties(this, source, ['uniqueItems', 'contains', 'additionalItems', 'minItems', 'maxItems']);\n    }\n\n    getControlType(): \"control\" | \"group\" | \"array\" {\n        return 'array';\n    }\n\n    setValue(value: any[], options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\n        if (value && value.length > 0) {\n            if (!this.fbs) throw 'Must supply FormBuilderService instance.';\n            value.forEach(val => {\n                const schema = this.itemTypes.length == 1\n                    ? this.itemTypes[0]\n                    : this.itemTypes.find(sch => sch.type == typeof val); // ToDo: better type matching\n                // console.info(\"schema+val\", schema, val);\n                let ctl = this.fbs.getFormostAbstractControl(schema);\n                this.push(ctl);\n            });\n        }\n\n        super.setValue(value, options);\n        // this._checkAllValuesPresent(value);\n        // value.forEach((newValue: any, index: number) => {\n        //   this._throwIfControlMissing(index);\n        //   this.at(index).setValue(newValue, {onlySelf: true, emitEvent: options.emitEvent});\n        // });\n        // this.updateValueAndValidity(options);\n    }\n}  ","import { FormControl as NgFormControl, Validators, ValidatorFn, AbstractControlOptions, AsyncValidatorFn } from '@angular/forms';\nimport { FormostAbstractControl } from '../formost-abstract-control.interface';\nimport { populateInterfaceProperties } from '../util';\n\nexport class FormControl<T = any, E extends object = any> extends NgFormControl implements FormostAbstractControl {\n    readonly value: T;\n\n    constructor(source, formState?: any) {\n        super(formState, null, null);\n        populateInterfaceProperties(this, source, ['type', 'required', 'enum', 'minLength', 'maxLength', 'pattern', 'format', 'contentEncoding', 'contentMediaType', 'multipleOf', 'minimum', 'exclusiveMinimum', 'maximum', 'exclusiveMaximum']);\n        this.setValidators(this.getValidators());\n    }\n\n    // from interface\n    name: string;\n    refid: string;\n    title?: string;\n    description?: string;\n    help?: string;\n\n    // Form Control properties\n\n    type: 'string' | 'boolean' | 'number' | 'integer' | null;\n    required?: boolean;\n    get uiType(): string {\n        if (this.type == 'string' && this.enum) { return 'dropdown'; }\n        if (this.type == 'boolean') { return 'checkbox'; }\n        // if (this.type == 'string' && (this.minLength > 99 || this.maxLength > 99)) { return 'bigtext'; }\n        if (this.type == 'string' && this.contentMediaType == 'text/html') { return 'richtext'; }\n        if (this.type == 'string' && this.contentMediaType == 'text/markdown') { return 'markdown'; }\n        return 'input';\n    };\n    get inputType(): string {\n        if (this.uiType == 'input') {\n            if (this.type == 'number' || this.type == 'integer') { return 'number'; }\n            if (this.type == 'string' && this.format == 'date-time') { return 'datetime-local'; }\n            if (this.type == 'string' && this.format == 'date') { return 'date'; }\n            if (this.type == 'string' && this.format == 'time') { return 'number'; }\n            if (this.type == 'string' && this.format == 'email') { return 'email'; }\n            if (this.type == 'string' && this.format == 'uri') { return 'url'; }\n            if (this.type == 'string') { return 'text'; }\n        }\n        return null;\n    }\n\n    enum?: any[];\n\n    // type: string\n    minLength?: number = null;\n    maxLength?: number = null;\n    pattern?: string = null;\n    format?: 'date-time' | 'time' | 'date' | 'email' | 'idn-email' |\n        'hostname' | 'idn-hostname' | 'ipv4' | 'ipv6' | 'uri' | 'uri-reference' |\n        'iri' | 'iri-reference' | 'uri-template' | 'json-pointer' | 'relative-json-pointer' |\n        'regex';\n    contentEncoding?: '7bit' | '8bit' | 'binary' | 'quoted-printable' | 'base64';\n    contentMediaType?: string = null;\n\n    // type: number\n    multipleOf?: number = null;\n    minimum?: number = null;\n    exclusiveMinimum?: number = null;\n    maximum?: number = null;\n    exclusiveMaximum?: number = null;\n\n    populate(source: object) {\n        populateInterfaceProperties(this, source, ['type', 'required', 'enum', 'minLength', 'maxLength', 'pattern', 'format', 'contentEncoding', 'contentMediaType', 'multipleOf', 'minimum', 'exclusiveMinimum', 'maximum', 'exclusiveMaximum']);\n    }\n\n    getControlType(): 'control' | 'group' | 'array' {\n        return 'control';\n    }\n\n    getValidators() {\n        const validators = [];\n        if (this.required)\n            validators.push(Validators.required);\n\n        if (this.type == 'string') {\n            if (this.minLength !== null)\n                validators.push(Validators.minLength(this.minLength));\n            if (this.maxLength !== null)\n                validators.push(Validators.minLength(this.maxLength));\n            if (this.pattern !== null)\n                validators.push(Validators.pattern(this.pattern));\n            if (this.format == \"email\")\n                validators.push(Validators.email);\n        }\n\n        if (this.type == 'number') {\n            if (this.minimum !== null)\n                validators.push(Validators.min(this.minimum));\n            if (this.maximum !== null)\n                validators.push(Validators.max(this.maximum));\n        }\n\n        console.info(name, validators);\n\n        return validators;\n    }\n}  ","import { Injectable } from '@angular/core';\nimport { of, Observable } from 'rxjs';\n\nimport { FormostAbstractControl } from './formost-abstract-control.interface';\nimport { FormGroup } from './controls/form-group';\nimport { FormArray } from './controls/form-array';\nimport { FormControl } from './controls/form-control';\nimport { FormostJsonSchema7 } from './formost-json-schema-7.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SchemaConverterService {\n\n  constructor() { }\n\n  getFormostForm(schema: FormostJsonSchema7 | string): FormGroup {\n    let formItems: FormostAbstractControl = this.getFormItems(schema, \"#\");\n\n    if (formItems instanceof FormGroup)\n      return formItems;\n    else {\n      return new FormGroup({ formost: formItems });\n    }\n  }\n\n  getFormostForm$(schema: FormostJsonSchema7 | string): Observable<FormGroup> {\n    return of(this.getFormostForm(schema));\n  }\n\n  getFormostAbstractControl(schema: FormostJsonSchema7 | string, refId = \"#\"): FormostAbstractControl {\n    let formItems: FormostAbstractControl = this.getFormItems(schema, refId);\n    return formItems;\n  }\n\n  getFormostAbstractControl$(schema: FormostJsonSchema7 | string, refId = \"#\"): Observable<FormostAbstractControl> {\n    return of(this.getFormostAbstractControl(schema, refId));\n  }\n\n  private getFormItems(schema: FormostJsonSchema7 | string, refId = \"#\"): FormostAbstractControl {\n    const schemaObj: FormostJsonSchema7 = typeof schema === 'string' ? JSON.parse(schema) : schema;\n\n    if (!schemaObj) { console.warn('NO-OBJECT', schemaObj); return {} as FormostAbstractControl; }\n    if (!schemaObj.type) { console.warn('NO-TYPE', schemaObj); return {} as FormostAbstractControl; }\n\n    let formItems: FormostAbstractControl;\n    switch (schemaObj.type) {\n      case 'null':\n        return null;\n      case 'object':\n        formItems = this.getFormGroup(schemaObj, refId); break;\n      case 'array':\n        formItems = this.getFormArray(schemaObj, refId); break;\n      default:\n        formItems = this.getFormControl(schemaObj, refId); break;\n    }\n\n    return formItems;\n  }\n\n  private getFormControl(obj: FormostJsonSchema7, refId: string): FormControl {\n    const formCtl = new FormControl(obj);\n    // formCtl.populate(obj);\n    if (refId) { formCtl.refid = refId; }\n    return formCtl;\n  }\n\n  private getFormGroup(obj: FormostJsonSchema7, refId: string): FormGroup {\n    const reqArr: Array<string> = obj.required || [];\n    const item = new FormGroup({});\n    item.populate(obj);\n    if (refId) { item.refid = refId; }\n    for (const prop in obj.properties) {\n      if (obj.properties.hasOwnProperty(prop)) {\n        const unknownField = obj.properties[prop] as any;\n        unknownField.name = prop;\n        if (reqArr.indexOf(prop) > -1) { unknownField.required = true; }\n\n        const knownField = this.getFormItems(unknownField, `${refId}/fields/${prop}`);\n        //item.fields.push(knownField);\n        item.addControl(prop, knownField);\n      }\n    }\n    return item;\n  }\n\n  private getFormArray(obj: FormostJsonSchema7, refId: string): FormArray {\n    const item = new FormArray([], undefined, undefined, this);\n    item.populate(obj);\n    if (refId) { item.refid = refId; }\n    const allowedTypesArray = Array.isArray(obj.items)\n      ? obj.items as FormostJsonSchema7[]\n      : [obj.items as FormostJsonSchema7];\n    // let i = 0;\n    // for (const allowedType of allowedTypesArray) {\n    //     // ++i;\n    //     // allowedType.name = allowedType.name || `${obj.name ? obj.name + '-' : null}type-${i}`;\n    //     // item.itemTypes.push(this.getFormItems(allowedType, `${refId}/itemTypes/${allowedType.name}`) as FormField);\n    //     item.itemTypes.push(this.getFormItems(allowedType, `${refId}/itemTypes/[${i++}]`) as FormControl);\n    // }\n    item.itemTypes = allowedTypesArray;\n    return item;\n  }\n\n}\n","import { JSONSchema7 } from 'json-schema';\n\nexport interface FormostJsonSchema7 extends JSONSchema7 {\n\n}\n\n/**\n\nvar x: JSONSchema7 = {\n    \"title\": \"People\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"name\": {\n            \"type\": \"string\",\n            \"minLength\": 3,\n            \"description\": \"Please enter your name\"\n        },\n        \"vegetarian\": {\n            \"type\": \"boolean\",\n            \"title\": \"Are you a vegetarian?\"\n        },\n        \"birthDate\": {\n            \"type\": \"string\",\n            \"format\": \"date\"\n        },\n        \"nationality\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"DE\",\n                \"IT\",\n                \"JP\",\n                \"US\",\n                \"RU\",\n                \"Other\"\n            ]\n        },\n        \"favorites\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\"\n            },\n            \"uniqueItems\": true,\n            \"default\": []\n        },\n        \"personalData\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"age\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Please enter your age.\"\n                },\n                \"height\": {\n                    \"type\": \"number\"\n                },\n                \"drivingSkill\": {\n                    \"type\": \"number\",\n                    \"maximum\": 10,\n                    \"minimum\": 1,\n                    \"default\": 7\n                }\n            },\n            \"required\": [\n                \"age\",\n                \"height\"\n            ]\n        },\n        \"occupation\": {\n            \"enum\": [\n                \"doctor\",\n                \"lawyer\"\n            ],\n            \"type\": \"string\"\n        },\n        \"postalCode\": {\n            \"type\": \"string\",\n            \"maxLength\": 5\n        }\n    },\n    \"required\": [\n        \"occupation\",\n        \"nationality\"\n    ]\n};\n\n\n// */\n","/*\n * Public API Surface of json-formost-core\n */\n\nexport * from './lib/util';\nexport * from './lib/formost-schema-converter.service';\nexport * from './lib/formost-json-schema-7.interface';\nexport * from './lib/formost-abstract-control.interface';\nexport * from './lib/controls/form-group';\nexport * from './lib/controls/form-array';\nexport * from './lib/controls/form-control';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}